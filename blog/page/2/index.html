<!doctype html>
<html lang="es" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.0">
<title data-rh="true">Blog | Pabpereza</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pabpereza.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://pabpereza.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://pabpereza.dev/blog/page/2"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" property="og:title" content="Blog | Pabpereza"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/logo_icon.png"><link data-rh="true" rel="canonical" href="https://pabpereza.dev/blog/page/2"><link data-rh="true" rel="alternate" href="https://pabpereza.dev/blog/page/2" hreflang="es"><link data-rh="true" rel="alternate" href="https://pabpereza.dev/blog/page/2" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://pabpereza.dev/blog/page/2","mainEntityOfPage":"https://pabpereza.dev/blog/page/2","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://pabpereza.dev/blog/CKA: Mi experiencia","mainEntityOfPage":"https://pabpereza.dev/blog/CKA: Mi experiencia","url":"https://pabpereza.dev/blog/CKA: Mi experiencia","headline":"CKA: Mi experiencia","name":"CKA: Mi experiencia","description":"¡Hola! En esta entrada me gustaría contar mi experiencia con la certificación CKA (Certified Kubernetes Administrator) gestionada por la Linux Foundation.","datePublished":"2022-12-21T00:00:00.000Z","author":{"@type":"Person","name":"Pablo Pérez-Aradros","description":"CISO SecDevOps @ Santander Group","url":"https://github.com/pabpereza","email":"pabloperezaradros@gmail.com","image":"https://github.com/pabpereza.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://pabpereza.dev/blog/Crea y comparte backups en docker","mainEntityOfPage":"https://pabpereza.dev/blog/Crea y comparte backups en docker","url":"https://pabpereza.dev/blog/Crea y comparte backups en docker","headline":"Crea y comparte backups en docker","name":"Crea y comparte backups en docker","description":"En docker, podemos utilizar volúmenes para persistir datos incluso cuando los contenedores se destruyen. Estos volúmenes eran complejos de administrar en muchas circunstancias, por lo que docker ha creado una nueva funcionalidad para docker desktop, que nos permite crear backups de los volúmenes y compartirlos con otros usuarios de una forma sencilla.","datePublished":"2022-12-01T00:00:00.000Z","author":{"@type":"Person","name":"Pablo Pérez-Aradros","description":"CISO SecDevOps @ Santander Group","url":"https://github.com/pabpereza","email":"pabloperezaradros@gmail.com","image":"https://github.com/pabpereza.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://pabpereza.dev/blog/pentesting_desde_un_contenedor","mainEntityOfPage":"https://pabpereza.dev/blog/pentesting_desde_un_contenedor","url":"https://pabpereza.dev/blog/pentesting_desde_un_contenedor","headline":"Pentesting desde un contenedor","name":"Pentesting desde un contenedor","description":"He hablado mucho de como hacer diversas acciones en docker y contenedores. Tampoco quiero que mi contenido sea monotemático pero","datePublished":"2022-08-29T00:00:00.000Z","author":{"@type":"Person","name":"Pablo Pérez-Aradros","description":"CISO SecDevOps @ Santander Group","url":"https://github.com/pabpereza","email":"pabloperezaradros@gmail.com","image":"https://github.com/pabpereza.png"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Pabpereza RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Pabpereza Atom Feed"><link rel="stylesheet" href="/assets/css/styles.7d92d6fe.css">
<script src="/assets/js/runtime~main.09f854e6.js" defer="defer"></script>
<script src="/assets/js/main.e2b3c1c6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar barra lateral" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">PPZ - Pabpereza</b></a><a class="navbar__item navbar__link" href="/docs/cursos">Cursos</a><a class="navbar__item navbar__link" href="/docs/notas">Notas</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://www.youtube.com/@Pabpereza" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Youtube</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pabpereza/pabpereza" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-x-link"></a><a href="https://github.com/pabpereza/pabpereza" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-instagram-link"></a><a href="https://github.com/pabpereza/pabpereza" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-linkedin-link"></a><a href="https://github.com/pabpereza/pabpereza" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-tiktok-link"></a><a href="https://github.com/pabpereza/pabpereza" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link test"></a><a href="https://github.com/pabpereza/pabpereza" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-label="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Navegación de publicaciones recientes"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/cracking_passwords_hashcat">Cracking de contraseñas con Hashcat</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/aligerar_imagenes_docker">Aligerar imágenes Docker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/PowerToys">PowerToys</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/CKA: Mi experiencia">CKA: Mi experiencia</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Crea y comparte backups en docker">Crea y comparte backups en docker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pentesting_desde_un_contenedor">Pentesting desde un contenedor</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Potencia powershell">Potencia powershell</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Escalar privilegios en docker">Escalar privilegios en docker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/raspberry_pi_touchscreen_7_pulgafas">Raspberry Pi Touchscreen 7</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Potencia tu terminal">Potencia tu terminal</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Errores comunes git">Errores comunes en Git</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Linux en Windows - WSL">Linux en Windows - Windows Subsystem Linux</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/kalilinux_en_docker">Kali en Docker recopilación</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Rancher Desktop">La alternativa a Docker que estabas buscando - Rancher Desktop</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Analizar seguridad docker">Analizar la seguridad de las imágenes de Docker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/docker_desktop_de_pago">¿Docker desktop de pago?</a></li></ul></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/CKA: Mi experiencia">CKA: Mi experiencia</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-12-21T00:00:00.000Z">21 de diciembre de 2022</time> · <!-- -->6 min de lectura</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/pabpereza" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/pabpereza.png" alt="Pablo Pérez-Aradros"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/pabpereza" target="_blank" rel="noopener noreferrer"><span>Pablo Pérez-Aradros</span></a></div><small class="avatar__subtitle">CISO SecDevOps @ Santander Group</small></div></div></div></div></header><div class="markdown"><p>¡Hola! En esta entrada me gustaría contar mi experiencia con la certificación CKA (Certified Kubernetes Administrator) gestionada por la Linux Foundation.</p>
<p>Todo este último año he dedicado mis esfuerzos, tanto en lo personal como en lo profesional, a profundizar mis conocimientos en contenedores y orquestación de los mismos. Aunque había trabajado previamente con la tecnología, no había tenido la posibilidad de pelearme con sus tripas ni desplegar mi propia infraestructura.</p>
<p>Lo primero es contestar a las preguntas esenciales que personalmente me hice:</p>
<ul>
<li>¿Por qué elegí esta certificación? Personalmente me interesaba más la certificación CKS, la cuál profundiza en kubernetes desde el punto de vista de seguridad, pero sacarse el CKA primero y asentar los conocimientos base me pareció más razonable.</li>
<li>¿Cuánto tiempo requiere? Sin conocimientos previos, si estas familiarizado con contenedores, entre tres y seis meses te la puedes sacar sin problemas. Todo depende de tu carga te trabajo, rutina personal.. etc. En mi caso, dedicando unas tres horas semanales terminé el temario del libro en 6 meses y el séptimo mes me embarqué en una maratón para repasar todo el temario y presentarme al examen.</li>
<li>¿Cuánto tiempo dispongo para hacerla? La plataforma te deja acceder al curso y examinarte durante un año. Además, también tienes derecho a un examen extra en caso de que suspendas.</li>
<li>¿Necesito un super ordenador? No, no es necesario. El examen se puede hacer desde cualquier navegador y no requiere de una gran potencia de procesamiento. Para realizar los ejercicios si que es recomendable un ordenador con al menos 16GB de RAM (32GB recomendable) para las múltiples instancias de kubernetes que se van a crear. También podrías hacerlo en máquinas virtuales en la nube con el coste que ello conlleva.</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mi-experiencia">Mi experiencia<a href="#mi-experiencia" class="hash-link" aria-label="Enlace directo al Mi experiencia" title="Enlace directo al Mi experiencia">​</a></h2>
<p>Ahora sí, vamos al lío. Mi experiencia con la certificación CKA. Personalmente no se me hizo especialmente dura, aunque es cierto que tenía conocimientos previos de contenedores y el tema no me era completamente desconocido.</p>
<p>El temario es bastante completo y es recomendable ir poco más allá de los ejercicios que te plantea el libro para adquirir unos conocimientos más sólidos. No te recomiendo dilatar mucho en el tiempo la certificación, si tienes tiempo, hazlo cuanto antes. Cuando al sexto mes había terminado los ejercicios del libro, había olvidado gran parte de lo aprendido y tuve que repasar todo de nuevo para llegar al examen con soltura.</p>
<p>IMPORTANTE. Junto con el libro y el examen, también se te da acceso a dos exámenes de prueba en la plataforma killer.sh que te ayudarán a familiarizarte con el examen y a saber si estás preparado para presentarte al examen final. No te frustres si suspendes, es muy normal. Estos tienen una duración y dificultad bastante mayor respecto al examen final. Lo importante es que, aunque no te de tiempo o falles, tienes acceso durante 24 horas al examen para que lo termines de completar. Además, puedes ver si las respuestas que has dado son correctas o no (algo que en el examen final no puedes hacer) y así entender mejor como se evalúa el examen.</p>
<p>De forma complementaria, también puedes hacer ejercicios en la plataforma katacoda, la cual te permite crear instancias de kubernetes y te plantea retos concretos que debes resolver. Es una buena forma de practicar y familiarizarte aún más con los comandos y la sintaxis de kubernetes.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="el-examen">El examen<a href="#el-examen" class="hash-link" aria-label="Enlace directo al El examen" title="Enlace directo al El examen">​</a></h2>
<p>El examen son 17 preguntas (si no recuerdo mal), están bien descritas y son bastante claras aun teniendo unos conocimientos básicos de inglés. Hay que obtener al menos 65 puntos para aprobar. Si has hecho los dos exámenes de prueba (aunque hayas tardado 3,4 o 7 horas en completarlos la primera vez) y has practicado con katacoda, no deberías tener problemas en aprobar.</p>
<p>Aquí te recomiendo nada más terminar el temario, hacer un examen de prueba de killer.sh, completarlo durante las 24-36 horas que tienes abierta la plataforma sin prisa y asimilando bien todo lo que haces. A partir de ahí, no dejaría pasar más de una semana para hacer el segundo examen de prueba y el final. El segundo examen de prueba va a ser exactamente igual que el primero ( al menos en mi caso) pero te servirá para practicar la velocidad con la que solucionas los ejercicios.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="algunos-trucos-concretos-para-mejorar-tu-velocidad">Algunos trucos concretos para mejorar tu velocidad<a href="#algunos-trucos-concretos-para-mejorar-tu-velocidad" class="hash-link" aria-label="Enlace directo al Algunos trucos concretos para mejorar tu velocidad" title="Enlace directo al Algunos trucos concretos para mejorar tu velocidad">​</a></h3>
<p>No creo que el examen sea muy complejo, pero si que hay que ir ligero para que luego tengas tiempo de repasar todas las preguntas. Personalmente, ya traía bastante experiencia en vim y tmux por lo que era bastante ágil con el terminal. Por eso es importante que estés familiarizado con los comandos para que no pierdas tiempo en buscarlos. Si prefieres nano o el gestor de pestañas del terminal del linux perfecto, la idea es que estés cómodo y que seas lo más rápido posible en el terminal.</p>
<p>Aunque es recomendable llevar la sintaxis fresca es imposible recordar todos los yaml de un objeto de memoria, en estos casos no te preocupes, tienes a tu disposición en el navegador de la máquina del examen acceso a la documentación de kubernetes. La navegación está muy limitada a la web de kubernetes pero es suficiente para encontrar toda la información que necesitas. En mi caso me molesté en documentarme los objetos que más utilizaba en mi web (puedes consultarla en la pestaña de -&gt; Documentación/contenedores/kubernetes) y de cara al examen tuve que practicar utilizando la oficial para ser rápido y tener ubicado todo lo que necesitaba en el examen.</p>
<p>Cuando empieces el examen la máquina virtual a la que te dan acceso trae la configuración de un linux por defecto. Aquí es interesante que inviertas un par de minutos en configurar tu entorno de trabajo.</p>
<p>Sin duda ganarás mucho tiempo configurando alias de kubernetes. Al menos el <code>k</code> para abreviar <code>kubectl</code> y el <code>dro</code> para <code>--dry-run=client -o yaml</code> te permitirá crear plantillas de objetos de kubernetes mucho más rápido (y el dry-run te permite ver el resultado sin crear el objeto). Estas configuraciones las puedes hacer en el fichero <code>.bashrc</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">alias k=kubectl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alias dro=--dry-run=client -o yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>También puede ser interesante configurar tmux y vim si tienes alguna personalización que aumente tu productividad. Personalmente, con los alias tenía suficiente para ganar tiempo.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conclusión">Conclusión<a href="#conclusión" class="hash-link" aria-label="Enlace directo al Conclusión" title="Enlace directo al Conclusión">​</a></h2>
<p>En resumen, la certificación CKA te permite sentirte cómodo administrando un cluster de kubernetes. Si tienes conocimientos previos de contenedores y orquestadores, no debería ser un problema. Si no los tienes, te recomiendo que te familiarices con ellos antes de empezar con la certificación. En cualquier caso, aún con la certificación, te encuentras con muchas situaciones en el día a día que no están cubiertas en el temario y que tendrás que investigar por tu cuenta.</p>
<p>Espero que os haya servido de ayuda. Si tenéis cualquier duda, podéis preguntarme por cualquiera de mis redes sociales. ¡Un saludo!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Etiquetas:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/kubernetes">kubernetes</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/Crea y comparte backups en docker">Crea y comparte backups en docker</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-12-01T00:00:00.000Z">1 de diciembre de 2022</time> · <!-- -->Lectura de un minuto</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/pabpereza" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/pabpereza.png" alt="Pablo Pérez-Aradros"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/pabpereza" target="_blank" rel="noopener noreferrer"><span>Pablo Pérez-Aradros</span></a></div><small class="avatar__subtitle">CISO SecDevOps @ Santander Group</small></div></div></div></div></header><div class="markdown"><p>En docker, podemos utilizar volúmenes para persistir datos incluso cuando los contenedores se destruyen. Estos volúmenes eran complejos de administrar en muchas circunstancias, por lo que docker ha creado una nueva funcionalidad para docker desktop, que nos permite crear backups de los volúmenes y compartirlos con otros usuarios de una forma sencilla.</p>
<p><img decoding="async" loading="lazy" src="https://www.docker.com/wp-content/uploads/2022/09/share-volume-docker.png.webp" alt="Docker backups" class="img_ev3q"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cómo-funciona">¿Cómo funciona?<a href="#cómo-funciona" class="hash-link" aria-label="Enlace directo al ¿Cómo funciona?" title="Enlace directo al ¿Cómo funciona?">​</a></h2>
<p>Docker desktop empezó a ofrecer extensiones hace unos meses. Estas extensiones nos permiten añadir funcionalidades a docker desktop, como por ejemplo, gestión visual de logs, uso de disco, herramientas de desarrollo, seguridad, etc.</p>
<p><a href="https://www.youtube.com/watch?v=6je3tV-_7I0" target="_blank" rel="noopener noreferrer">Tengo un vídeo en youtube hablando de las extensiones de docker desktop</a>, si quieres saber más sobre ellas.</p>
<p>En este caso, la extensión que nos interesa es la de <strong>Docker Backup</strong>. Esta extensión nos permite crear backups de los volúmenes de docker y compartirlos con otros usuarios de diferentes formas. Dentro vídeo:</p>
<p><a href="https://youtu.be/thqgLGMfsGw" target="_blank" rel="noopener noreferrer">https://youtu.be/thqgLGMfsGw</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="comandos-utilizados">Comandos utilizados<a href="#comandos-utilizados" class="hash-link" aria-label="Enlace directo al Comandos utilizados" title="Enlace directo al Comandos utilizados">​</a></h2>
<p>Crear el contenedor de postgresql para las pruebas:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run --hostname=cb8f628fbe6d --mac-address=02:42:ac:11:00:02 --env=POSTGRES_PASSWORD=postgrespw --env=PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/15/bin --env=GOSU_VERSION=1.14 --env=LANG=en_US.utf8 --env=PG_MAJOR=15 --env=PG_VERSION=15.1-1.pgdg110+1 --env=PGDATA=/var/lib/postgresql/data --volume=/var/lib/postgresql/data -p 5432 --label=&#x27;com.docker/featured-image=postgres:latest&#x27; --runtime=runc -d postgres:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Etiquetas:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/docker">docker</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/noticia">noticia</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/pentesting_desde_un_contenedor">Pentesting desde un contenedor</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-08-29T00:00:00.000Z">29 de agosto de 2022</time> · <!-- -->3 min de lectura</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/pabpereza" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/pabpereza.png" alt="Pablo Pérez-Aradros"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/pabpereza" target="_blank" rel="noopener noreferrer"><span>Pablo Pérez-Aradros</span></a></div><small class="avatar__subtitle">CISO SecDevOps @ Santander Group</small></div></div></div></div></header><div class="markdown"><p>He hablado mucho de como hacer diversas acciones en docker y contenedores. Tampoco quiero que mi contenido sea monotemático pero
me han lanzando una sugerencia de vídeo y no me puedo resistir a abordar el tema.</p>
<p>Concretamente, el usuario pwnhun73r me sugirió utilizar contenedores para pentesting en laboratorios como HackTheBox o TryHackMe. Gracias por el apoyo y la sugerencia. Tu también puedes sugerir nuevo contenido desde <a href="https://github.com/pabpereza/pabpereza/issues" target="_blank" rel="noopener noreferrer">la sección de issues de esta página en GitHub</a>.</p>
<p>Hace tiempo que no me dedico al pentesting profesionalmente pero tampoco me gusta que se me oxide el tema. Youtube es muy restrictivo con el contenido del hacking por lo que, para este vídeo, me limitaré a plantear el entorno sin entrar en la explotación.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="por-qué">¿Por qué?<a href="#por-qué" class="hash-link" aria-label="Enlace directo al ¿Por qué?" title="Enlace directo al ¿Por qué?">​</a></h2>
<p>Esta es la pregunta del millón... ¿Por qué?¿Cuál es la necesidad?. Realmente las máquinas virtuales para esta labor igual son más prácticas que un contenedor, tienes tus copias de seguridad, tu interfaz, puedes conectarles hardware cómodamente (antenas, cables, etc) y puedes configurar los servicios que necesites.</p>
<p>Para los fanáticos de los contenedores como yo, es por amor de llevar la tecnología al límite. Hay que reconocer que los contenedores tienen sus ventajas. Fáciles de ejecutar, versionar y almacenar. Suficiente para justificar este vídeo.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="retos">Retos<a href="#retos" class="hash-link" aria-label="Enlace directo al Retos" title="Enlace directo al Retos">​</a></h2>
<p>Tenemos dos retos a tener en cuenta basados en dos escenarios:</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contenedor-para-pentesting-de-un-sitio-web-público">Contenedor para pentesting de un sitio web público<a href="#contenedor-para-pentesting-de-un-sitio-web-público" class="hash-link" aria-label="Enlace directo al Contenedor para pentesting de un sitio web público" title="Enlace directo al Contenedor para pentesting de un sitio web público">​</a></h3>
<p>Antes de nada recordad que el sitio deberá ser de vuestra propiedad o deberéis tener permiso para auditarlo.</p>
<p>En este supuesto, accedemos a algún sitio público y queremos hacer pentesting. Para la parte de la enumeración no tendremos limitación alguna. El problema surge cuando queremos explotar un sitio. La mayoría de conexiones que intentaremos generar serán inversas y, por tanto, necesitaremos abrir puertos en el router.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/web_container.drawio-b767414a90567864b66d89884997ba48.png" width="331" height="461" class="img_ev3q"></p>
<p>Supongamos que hacemos las pruebas desde un servidor público también, como un VPS. En este caso, no tendremos problema para abrir puertos. Aunque no todo queda ahí, tendremos que natear al contenedor un rango de puertos para que el servidor pueda acceder a los servicios que estemos ejecutando en el contenedor.</p>
<p>Imaginaros que estamos escuchando una conexión con netcat en el puerto 4444. Deberíamos ejecutar el contenedor con ese puerto mapeado del host para que podamos capturar las conexiones desde del contenedor.</p>
<p>Esto podemos hacerlo así:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -it -p 4444:4444 kalilinux/kali-rolling /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contenedor-para-pentesting-en-un-laboratorio-privado">Contenedor para pentesting en un laboratorio privado<a href="#contenedor-para-pentesting-en-un-laboratorio-privado" class="hash-link" aria-label="Enlace directo al Contenedor para pentesting en un laboratorio privado" title="Enlace directo al Contenedor para pentesting en un laboratorio privado">​</a></h3>
<p>En este caso, la parte de acceso y enrutamiento es más sencillo dado que normalmente a los laboratorios de pentesting nos conectamos a través de una VPN, la cuál, nos crea un tunel directamente desde el contenedor al laboratorio.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/lab_container.drawio-a4162f70dbd2bab1f2eb134638aaede0.png" width="337" height="545" class="img_ev3q"></p>
<p>La problemática viene por la parte del cliente VPN en los contenedores.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="limitaciones">Limitaciones<a href="#limitaciones" class="hash-link" aria-label="Enlace directo al Limitaciones" title="Enlace directo al Limitaciones">​</a></h4>
<p>La principal limitación es la acceso a las interfaces de red. En una máquina virtual virtualizas tanto software como hardware. En el caso de los contenedores, al ser procesos aislados, tenemos que lidiar con la problemática de crear interfaces de red para las VPN de algunos laboratorio.</p>
<p>Podemos levantar un contenedor con Kali Linux solventando estas limitaciones, usando el parámetro <code>--privileged</code> para que el contenedor tenga acceso a las interfaces de red del host y <code>--sysctl net.ipv6.conf.all.disable_ipv6=0</code> para que el contenedor tenga acceso a la red IPv6.</p>
<p>El comando completo sería:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -it --privileged --sysctl net.ipv6.conf.all.disable_ipv6=0 kalilinux/kali-rolling /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Así ya podríamos conectarnos a HackTheBox, por ejemplo.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="vídeo">Vídeo<a href="#vídeo" class="hash-link" aria-label="Enlace directo al Vídeo" title="Enlace directo al Vídeo">​</a></h2>
<p>Sin más preámbulos, dentro vídeo:
<a href="https://youtu.be/0GsiBPVRMyI" target="_blank" rel="noopener noreferrer">https://youtu.be/0GsiBPVRMyI</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Etiquetas:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/docker">docker</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/pentesting">pentesting</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/seguridad">seguridad</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Navegación por la página de la lista de blogs "><a class="pagination-nav__link pagination-nav__link--prev" href="/blog"><div class="pagination-nav__label">Entradas más recientes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/3"><div class="pagination-nav__label">Entradas más antiguas</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contenido</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/notas">Notas</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cursos">Cursos</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/pabpereza/pabpereza" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/pabpereza/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/pabpereza" target="_blank" rel="noopener noreferrer" class="footer__link-item">X - Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Pabpereza. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>